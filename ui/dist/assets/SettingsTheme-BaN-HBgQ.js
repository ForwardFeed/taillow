import{j as w,d as F,l as j,E as he,o as d,c as B,G as ae,H as V,I as pe,_ as K,J as me,a as H,t as X,b as u,f,m as L,k as ge,n as ue,K as ce,L as fe,F as P,r as W,e as T,q as ve,w as N,u as E,M as Ce,N as Se,O as ne,P as ye,Q as ke,R as $e,S as we}from"./index-h4hE2hpV.js";import{u as be,a as de,b as Fe}from"./mouse-dKSBP7Cv.js";import{S as z}from"./SettingsField-DK79LNfE.js";w(0);const ie=w(window.scrollY);function He(){function e(){ie.value=window.scrollY}return be("scrollglobalraw",()=>{window.addEventListener("scroll",e)},()=>{window.removeEventListener("scroll",e)}),ie}const Ae=F({__name:"FloatingWindow",props:{startingX:{default:0},startingY:{default:0},onMouseCursor:{type:Boolean,default:!1}},setup(e){pe(y=>({c462b4c6:l.value,"0dce550f":n.value}));const t=e,{x:o,y:r}=de();let i=t.onMouseCursor?o.value:t.startingX,s=t.onMouseCursor?r.value:t.startingY;const n=w(i+"px"),l=w(s+"px"),a=window.scrollY;let c=i,h=s,p=h+a,v=0,b=i,k=s;const m=w(!1);let O=null;j(He(),()=>{v=h+window.scrollY;const y=Math.round((v-p)/50);O&&clearTimeout(O),O=setTimeout(()=>{window.requestAnimationFrame(function S(){if(y>0?p>=v:p<=v){l.value=v-a+"px",p=v;return}p+=y,l.value=p-a+"px",window.requestAnimationFrame(S)})},100)});function g(y){var x;const S=document.createElement("img");S.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",(x=y.dataTransfer)==null||x.setDragImage(S,0,0)}function C(){m.value=!1}j(()=>o.value+r.value,function(){var se,re;if(!m.value)return;const y=((re=(se=Y.value)==null?void 0:se.getClientRects())==null?void 0:re[0])||{},S=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),x=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),M=S-y.width,I=x-y.height;c+=o.value-b,h+=r.value-k,b=o.value,k=r.value,c<=0&&(b=0,c=0),c>=M&&(b=M,c=M),h<=0&&(k=0,h=0),h>=I&&(k=I,h=I),n.value=c+"px",p=h+window.scrollY,l.value=p-a+"px"});function $(){b=o.value,k=r.value,m.value=!0}function A(){m.value=!1}const D=Fe();j(D,function(){m.value&&!D.value&&(m.value=!1)}),he(()=>{var M,I;const y=((I=(M=Y.value)==null?void 0:M.getClientRects())==null?void 0:I[0])||{width:0,height:0},S=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),x=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);c+y.width>S&&(c=S-y.width,b=c,n.value=c+"px"),h-a+y.height>x&&(h=x-y.height,k=h,p=h+window.scrollY,l.value=p+"px")});const Y=w();return(y,S)=>(d(),B("div",{class:"floating-window",ref_key:"floatingWin",ref:Y,onDragstart:g,onDragend:C,onDrop:C,onMousedown:$,onMouseup:A,onTouchstart:S[0]||(S[0]=x=>m.value=!0),onTouchend:S[1]||(S[1]=x=>m.value=!1),onTouchmove:S[2]||(S[2]=V(()=>{},["prevent"]))},[ae(y.$slots,"default",{},void 0,!0)],544))}}),xe=K(Ae,[["__scopeId","data-v-9efdcb01"]]),Ee=["width","height"],Be=F({__name:"CrossIcon",props:{size:{default:"100px"}},emits:["click"],setup(e,{emit:t}){const o=e,r=t;return(i,s)=>(d(),B("svg",{width:o.size,height:o.size,onClick:s[0]||(s[0]=n=>r("click")),viewBox:"0 0 24.00 24.00",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#6f1b1b","stroke-width":"0.9600000000000002"},s[1]||(s[1]=[me('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M17.66 21.81H6.34C5.24466 21.81 4.19417 21.3749 3.41965 20.6004C2.64512 19.8258 2.21 18.7753 2.21 17.68V6.36C2.21 5.26466 2.64512 4.21418 3.41965 3.43965C4.19417 2.66513 5.24466 2.23 6.34 2.23H17.66C18.7553 2.23 19.8058 2.66513 20.5803 3.43965C21.3549 4.21418 21.79 5.26466 21.79 6.36V17.68C21.79 18.7753 21.3549 19.8258 20.5803 20.6004C19.8058 21.3749 18.7553 21.81 17.66 21.81ZM6.34 3.73C5.64248 3.73 4.97353 4.00709 4.48031 4.50031C3.98709 4.99353 3.71 5.66248 3.71 6.36V17.68C3.71 18.3775 3.98709 19.0465 4.48031 19.5397C4.97353 20.0329 5.64248 20.31 6.34 20.31H17.66C18.3575 20.31 19.0265 20.0329 19.5197 19.5397C20.0129 19.0465 20.29 18.3775 20.29 17.68V6.36C20.29 5.66248 20.0129 4.99353 19.5197 4.50031C19.0265 4.00709 18.3575 3.73 17.66 3.73H6.34Z" fill="#c01c28"></path> <path d="M15.76 16.64C15.6614 16.641 15.5636 16.6221 15.4725 16.5843C15.3814 16.5465 15.2989 16.4906 15.23 16.42L7.58 8.77001C7.50631 8.70134 7.44721 8.61854 7.40622 8.52654C7.36523 8.43455 7.34318 8.33523 7.34141 8.23453C7.33963 8.13383 7.35815 8.0338 7.39588 7.94041C7.4336 7.84702 7.48974 7.76219 7.56096 7.69097C7.63218 7.61975 7.71701 7.56361 7.8104 7.52588C7.90379 7.48816 8.00382 7.46964 8.10452 7.47141C8.20522 7.47319 8.30454 7.49523 8.39654 7.53623C8.48854 7.57722 8.57134 7.63632 8.64 7.71001L16.29 15.36C16.4304 15.5006 16.5093 15.6913 16.5093 15.89C16.5093 16.0888 16.4304 16.2794 16.29 16.42C16.2208 16.4901 16.1382 16.5457 16.0472 16.5835C15.9562 16.6213 15.8585 16.6405 15.76 16.64Z" fill="#c01c28"></path> <path d="M8.19 16.56C8.09121 16.5622 7.99304 16.5438 7.90178 16.5059C7.81052 16.468 7.72817 16.4115 7.66 16.34C7.58924 16.2711 7.53301 16.1886 7.49461 16.0976C7.45621 16.0066 7.43643 15.9088 7.43643 15.81C7.43643 15.7112 7.45621 15.6134 7.49461 15.5224C7.53301 15.4314 7.58924 15.3489 7.66 15.28L15.31 7.63C15.4506 7.48955 15.6412 7.41066 15.84 7.41066C16.0387 7.41066 16.2294 7.48955 16.37 7.63C16.5087 7.77357 16.5862 7.96538 16.5862 8.165C16.5862 8.36462 16.5087 8.55643 16.37 8.7L8.72 16.34C8.65075 16.4101 8.5682 16.4657 8.47719 16.5035C8.38618 16.5412 8.28854 16.5605 8.19 16.56Z" fill="#c01c28"></path></g>',3)]),8,Ee))}}),Le={class:"title-container bg3"},Te={class:"title-name"},_e={class:"cross-wrapper"},Me=F({__name:"FloatingWindowTitle",props:{text:{default:"defaultVal"}},emits:["closed"],setup(e,{emit:t}){const o=e,r=t;return(i,s)=>(d(),B("div",Le,[H("div",Te,[H("span",null,X(o.text),1)]),H("div",_e,[u(Be,{size:"1.3em",onClick:s[0]||(s[0]=n=>r("closed"))})])]))}}),Ie=K(Me,[["__scopeId","data-v-8c6ef41f"]]);/*!
  * vue-color-kit v1.0.6
  * (c) 2023 
  * @license MIT
  */function _(e){let t={r:0,g:0,b:0,a:1};/#/.test(e)?t=Oe(e):/rgb/.test(e)?t=le(e):typeof e=="string"?t=le(`rgba(${e})`):Object.prototype.toString.call(e)==="[object Object]"&&(t=e);const{r:o,g:r,b:i,a:s}=t,{h:n,s:l,v:a}=De(t);return{r:o,g:r,b:i,a:s===void 0?1:s,h:n,s:l,v:a}}function q(e){const t=document.createElement("canvas"),o=t.getContext("2d"),r=e*2;return t.width=r,t.height=r,o.fillStyle="#ffffff",o.fillRect(0,0,r,r),o.fillStyle="#ccd5db",o.fillRect(0,0,e,e),o.fillRect(e,e,e,e),t}function G(e,t,o,r,i,s){const n=e==="l",l=t.createLinearGradient(0,0,n?o:0,n?0:r);l.addColorStop(.01,i),l.addColorStop(.99,s),t.fillStyle=l,t.fillRect(0,0,o,r)}function Re({r:e,g:t,b:o},r){const i=n=>("0"+Number(n).toString(16)).slice(-2),s=`#${i(e)}${i(t)}${i(o)}`;return r?s.toUpperCase():s}function Oe(e){e=e.slice(1);const t=o=>parseInt(o,16)||0;return{r:t(e.slice(0,2)),g:t(e.slice(2,4)),b:t(e.slice(4,6))}}function le(e){return typeof e=="string"?(e=(/rgba?\((.*?)\)/.exec(e)||["","0,0,0,1"])[1].split(","),{r:Number(e[0])||0,g:Number(e[1])||0,b:Number(e[2])||0,a:Number(e[3]?e[3]:1)}):e}function De({r:e,g:t,b:o}){e=e/255,t=t/255,o=o/255;const r=Math.max(e,t,o),i=Math.min(e,t,o),s=r-i;let n=0;r===i?n=0:r===e?t>=o?n=60*(t-o)/s:n=60*(t-o)/s+360:r===t?n=60*(o-e)/s+120:r===o&&(n=60*(e-t)/s+240),n=Math.floor(n);let l=parseFloat((r===0?0:1-i/r).toFixed(2)),a=parseFloat(r.toFixed(2));return{h:n,s:l,v:a}}var J=F({props:{color:{type:String,default:"#000000"},hsv:{type:Object,default:null},size:{type:Number,default:152}},emits:["selectSaturation"],data(){return{slideSaturationStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasSaturation,t=this.size,o=e.getContext("2d");e.width=t,e.height=t,o.fillStyle=this.color,o.fillRect(0,0,t,t),G("l",o,t,t,"#FFFFFF","rgba(255,255,255,0)"),G("p",o,t,t,"rgba(0,0,0,0)","#000000")},renderSlide(){this.slideSaturationStyle={left:this.hsv.s*this.size-5+"px",top:(1-this.hsv.v)*this.size-5+"px"}},selectSaturation(e){const{top:t,left:o}=this.$el.getBoundingClientRect(),r=e.target.getContext("2d"),i=n=>{let l=n.clientX-o,a=n.clientY-t;l<0&&(l=0),a<0&&(a=0),l>this.size&&(l=this.size),a>this.size&&(a=this.size),this.slideSaturationStyle={left:l-5+"px",top:a-5+"px"};const c=r.getImageData(Math.min(l,this.size-1),Math.min(a,this.size-1),1,1),[h,p,v]=c.data;this.$emit("selectSaturation",{r:h,g:p,b:v})};i(e);const s=()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",s)}}});const Ne={ref:"canvasSaturation"};function Pe(e,t,o,r,i,s){return d(),f("div",{class:"saturation",onMousedown:t[1]||(t[1]=V((...n)=>e.selectSaturation&&e.selectSaturation(...n),["prevent","stop"]))},[u("canvas",Ne,null,512),u("div",{style:e.slideSaturationStyle,class:"slide"},null,4)],32)}J.render=Pe;J.__file="src/color/Saturation.vue";var U=F({props:{hsv:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectHue"],data(){return{slideHueStyle:{}}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasHue,t=this.width,o=this.height,r=e.getContext("2d");e.width=t,e.height=o;const i=r.createLinearGradient(0,0,0,o);i.addColorStop(0,"#FF0000"),i.addColorStop(.17*1,"#FF00FF"),i.addColorStop(.17*2,"#0000FF"),i.addColorStop(.17*3,"#00FFFF"),i.addColorStop(.17*4,"#00FF00"),i.addColorStop(.17*5,"#FFFF00"),i.addColorStop(1,"#FF0000"),r.fillStyle=i,r.fillRect(0,0,t,o)},renderSlide(){this.slideHueStyle={top:(1-this.hsv.h/360)*this.height-2+"px"}},selectHue(e){const{top:t}=this.$el.getBoundingClientRect(),o=e.target.getContext("2d"),r=s=>{let n=s.clientY-t;n<0&&(n=0),n>this.height&&(n=this.height),this.slideHueStyle={top:n-2+"px"};const l=o.getImageData(0,Math.min(n,this.height-1),1,1),[a,c,h]=l.data;this.$emit("selectHue",{r:a,g:c,b:h})};r(e);const i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}}});const ze={ref:"canvasHue"};function je(e,t,o,r,i,s){return d(),f("div",{class:"hue",onMousedown:t[1]||(t[1]=V((...n)=>e.selectHue&&e.selectHue(...n),["prevent","stop"]))},[u("canvas",ze,null,512),u("div",{style:e.slideHueStyle,class:"slide"},null,4)],32)}U.render=je;U.__file="src/color/Hue.vue";var Z=F({props:{color:{type:String,default:"#000000"},rgba:{type:Object,default:null},width:{type:Number,default:15},height:{type:Number,default:152}},emits:["selectAlpha"],data(){return{slideAlphaStyle:{},alphaSize:5}},watch:{color(){this.renderColor()},"rgba.a"(){this.renderSlide()}},mounted(){this.renderColor(),this.renderSlide()},methods:{renderColor(){const e=this.$refs.canvasAlpha,t=this.width,o=this.height,r=this.alphaSize,i=q(r),s=e.getContext("2d");e.width=t,e.height=o,s.fillStyle=s.createPattern(i,"repeat"),s.fillRect(0,0,t,o),G("p",s,t,o,"rgba(255,255,255,0)",this.color)},renderSlide(){this.slideAlphaStyle={top:this.rgba.a*this.height-2+"px"}},selectAlpha(e){const{top:t}=this.$el.getBoundingClientRect(),o=i=>{let s=i.clientY-t;s<0&&(s=0),s>this.height&&(s=this.height);let n=parseFloat((s/this.height).toFixed(2));this.$emit("selectAlpha",n)};o(e);const r=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}}});const We={ref:"canvasAlpha"};function Ve(e,t,o,r,i,s){return d(),f("div",{class:"color-alpha",onMousedown:t[1]||(t[1]=V((...n)=>e.selectAlpha&&e.selectAlpha(...n),["prevent","stop"]))},[u("canvas",We,null,512),u("div",{style:e.slideAlphaStyle,class:"slide"},null,4)],32)}Z.render=Ve;Z.__file="src/color/Alpha.vue";var Q=F({props:{color:{type:String,default:"#000000"},width:{type:Number,default:100},height:{type:Number,default:30}},data(){return{alphaSize:5}},watch:{color(){this.renderColor()}},mounted(){this.renderColor()},methods:{renderColor(){const e=this.$el,t=this.width,o=this.height,r=this.alphaSize,i=q(r),s=e.getContext("2d");e.width=t,e.height=o,s.fillStyle=s.createPattern(i,"repeat"),s.fillRect(0,0,t,o),s.fillStyle=this.color,s.fillRect(0,0,t,o)}}});function Ye(e,t,o,r,i,s){return d(),f("canvas")}Q.render=Ye;Q.__file="src/color/Preview.vue";var ee=F({props:{suckerCanvas:{type:Object,default:null},suckerArea:{type:Array,default:()=>[]}},data(){return{isOpenSucker:!1,suckerPreview:null,isSucking:!1}},watch:{suckerCanvas(e){this.isSucking=!1,this.suckColor(e)}},methods:{openSucker(){this.isOpenSucker?this.keydownHandler({keyCode:27}):(this.isOpenSucker=!0,this.isSucking=!0,this.$emit("openSucker",!0),document.addEventListener("keydown",this.keydownHandler))},keydownHandler(e){e.keyCode===27&&(this.isOpenSucker=!1,this.isSucking=!1,this.$emit("openSucker",!1),document.removeEventListener("keydown",this.keydownHandler),document.removeEventListener("mousemove",this.mousemoveHandler),document.removeEventListener("mouseup",this.mousemoveHandler),this.suckerPreview&&(document.body.removeChild(this.suckerPreview),this.suckerPreview=null))},mousemoveHandler(e){const{clientX:t,clientY:o}=e,{top:r,left:i,width:s,height:n}=this.suckerCanvas.getBoundingClientRect(),l=t-i,a=o-r,h=this.suckerCanvas.getContext("2d").getImageData(Math.min(l,s-1),Math.min(a,n-1),1,1);let[p,v,b,k]=h.data;k=parseFloat((k/255).toFixed(2));const m=this.suckerPreview.style;Object.assign(m,{position:"absolute",left:t+20+"px",top:o-36+"px",width:"24px",height:"24px",borderRadius:"50%",border:"2px solid #fff",boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.16)",background:`rgba(${p}, ${v}, ${b}, ${k})`,zIndex:95}),this.suckerArea.length&&t>=this.suckerArea[0]&&o>=this.suckerArea[1]&&t<=this.suckerArea[2]&&o<=this.suckerArea[3]?m.display="":m.display="none"},suckColor(e){e&&e.tagName!=="CANVAS"||(this.suckerPreview=document.createElement("div"),this.suckerPreview&&document.body.appendChild(this.suckerPreview),document.addEventListener("mousemove",this.mousemoveHandler),document.addEventListener("mouseup",this.mousemoveHandler),e.addEventListener("click",t=>{const{clientX:o,clientY:r}=t,{top:i,left:s,width:n,height:l}=e.getBoundingClientRect(),a=o-s,c=r-i,p=e.getContext("2d").getImageData(Math.min(a,n-1),Math.min(c,l-1),1,1);let[v,b,k,m]=p.data;m=parseFloat((m/255).toFixed(2)),this.$emit("selectSucker",{r:v,g:b,b:k,a:m})}))}}});const Ge=u("path",{d:"M13.1,8.2l5.6,5.6c0.4,0.4,0.5,1.1,0.1,1.5s-1.1,0.5-1.5,0.1c0,0-0.1,0-0.1-0.1l-1.4-1.4l-7.7,7.7C7.9,21.9,7.6,22,7.3,22H3.1C2.5,22,2,21.5,2,20.9l0,0v-4.2c0-0.3,0.1-0.6,0.3-0.8l5.8-5.8C8.5,9.7,9.2,9.6,9.7,10s0.5,1.1,0.1,1.5c0,0,0,0.1-0.1,0.1l-5.5,5.5v2.7h2.7l7.4-7.4L8.7,6.8c-0.5-0.4-0.5-1-0.1-1.5s1.1-0.5,1.5-0.1c0,0,0.1,0,0.1,0.1l1.4,1.4l3.5-3.5c1.6-1.6,4.1-1.6,5.8-0.1c1.6,1.6,1.6,4.1,0.1,5.8L20.9,9l-3.6,3.6c-0.4,0.4-1.1,0.5-1.5,0.1"},null,-1),Ke={key:1,class:"sucker",viewBox:"-16 -16 68 68",xmlns:"http://www.w3.org/2000/svg",stroke:"#9099a4"},Xe=u("g",{fill:"none","fill-rule":"evenodd"},[u("g",{transform:"translate(1 1)","stroke-width":"4"},[u("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),u("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[u("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function qe(e,t,o,r,i,s){return d(),f("div",null,[e.isSucking?L("v-if",!0):(d(),f("svg",{key:0,class:[{active:e.isOpenSucker},"sucker"],xmlns:"http://www.w3.org/2000/svg",viewBox:"-12 -12 48 48",onClick:t[1]||(t[1]=(...n)=>e.openSucker&&e.openSucker(...n))},[Ge],2)),e.isSucking?(d(),f("svg",Ke,[Xe])):L("v-if",!0)])}ee.render=qe;ee.__file="src/color/Sucker.vue";var te=F({props:{name:{type:String,default:""},color:{type:String,default:""}},emits:["inputColor","inputFocus","inputBlur"],setup(e,{emit:t}){return{modelColor:ge({get(){return e.color||""},set(s){t("inputColor",s)}}),handleFocus:s=>{t("inputFocus",s)},handleBlur:s=>{t("inputBlur",s)}}}});const Je={class:"color-type"},Ue={class:"name"};function Ze(e,t,o,r,i,s){return d(),f("div",Je,[u("span",Ue,X(e.name),1),ue(u("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>e.modelColor=n),class:"value",onFocus:t[2]||(t[2]=(...n)=>e.handleFocus&&e.handleFocus(...n)),onBlur:t[3]||(t[3]=(...n)=>e.handleBlur&&e.handleBlur(...n))},null,544),[[ce,e.modelColor]])])}te.render=Ze;te.__file="src/color/Box.vue";var oe=F({name:"ColorPicker",props:{color:{type:String,default:"#000000"},colorsDefault:{type:Array,default:()=>[]},colorsHistoryKey:{type:String,default:""}},emits:["selectColor"],setup(e,{emit:t}){const o=w(),r=w([]),i=w();e.colorsHistoryKey&&localStorage&&(r.value=JSON.parse(localStorage.getItem(e.colorsHistoryKey))||[]),i.value=q(4).toDataURL(),fe(()=>{s(o.value)});function s(l){if(!l)return;const a=r.value||[],c=a.indexOf(l);c>=0&&a.splice(c,1),a.length>=8&&(a.length=7),a.unshift(l),r.value=a||[],localStorage&&e.colorsHistoryKey&&localStorage.setItem(e.colorsHistoryKey,JSON.stringify(a))}function n(l){t("selectColor",l)}return{setColorsHistory:s,colorsHistory:r,color:o,imgAlphaBase64:i,selectColor:n}}});const Qe={class:"colors"},et={key:0,class:"colors history"};function tt(e,t,o,r,i,s){return d(),f("div",null,[u("ul",Qe,[(d(!0),f(P,null,W(e.colorsDefault,n=>(d(),f("li",{key:n,class:"item",onClick:l=>e.selectColor(n)},[u("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),u("div",{style:{background:n},class:"color"},null,4)],8,["onClick"]))),128))]),e.colorsHistory.length?(d(),f("ul",et,[(d(!0),f(P,null,W(e.colorsHistory,n=>(d(),f("li",{key:n,class:"item",onClick:l=>e.selectColor(n)},[u("div",{style:{background:`url(${e.imgAlphaBase64})`},class:"alpha"},null,4),u("div",{style:{background:n},class:"color"},null,4)],8,["onClick"]))),128))])):L("v-if",!0)])}oe.render=tt;oe.__file="src/color/Colors.vue";var R=F({components:{Saturation:J,Hue:U,Alpha:Z,Preview:Q,Sucker:ee,Box:te,Colors:oe},emits:["changeColor","openSucker","inputFocus","inputBlur"],props:{color:{type:String,default:"#000000"},theme:{type:String,default:"dark"},suckerHide:{type:Boolean,default:!0},suckerCanvas:{type:null,default:null},suckerArea:{type:Array,default:()=>[]},colorsDefault:{type:Array,default:()=>["#000000","#FFFFFF","#FF1900","#F47365","#FFB243","#FFE623","#6EFF2A","#1BC7B1","#00BEFF","#2E81FF","#5D61FF","#FF89CF","#FC3CAD","#BF3DCE","#8E00A7","rgba(0,0,0,0)"]},colorsHistoryKey:{type:String,default:"vue-colorpicker-history"}},data(){return{hueWidth:15,hueHeight:152,previewHeight:30,modelRgba:"",modelHex:"",r:0,g:0,b:0,a:1,h:0,s:0,v:0}},computed:{isLightTheme(){return this.theme==="light"},totalWidth(){return this.hueHeight+(this.hueWidth+8)*2},previewWidth(){return this.totalWidth-(this.suckerHide?0:this.previewHeight)},rgba(){return{r:this.r,g:this.g,b:this.b,a:this.a}},hsv(){return{h:this.h,s:this.s,v:this.v}},rgbString(){return`rgb(${this.r}, ${this.g}, ${this.b})`},rgbaStringShort(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`},rgbaString(){return`rgba(${this.rgbaStringShort})`},hexString(){return Re(this.rgba,!0)}},created(){Object.assign(this,_(this.color)),this.setText(),this.$watch("rgba",()=>{this.$emit("changeColor",{rgba:this.rgba,hsv:this.hsv,hex:this.modelHex})})},methods:{selectSaturation(e){const{r:t,g:o,b:r,h:i,s,v:n}=_(e);Object.assign(this,{r:t,g:o,b:r,h:i,s,v:n}),this.setText()},handleFocus(e){this.$emit("inputFocus",e)},handleBlur(e){this.$emit("inputBlur",e)},selectHue(e){const{r:t,g:o,b:r,h:i,s,v:n}=_(e);Object.assign(this,{r:t,g:o,b:r,h:i,s,v:n}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide()})},selectAlpha(e){this.a=e,this.setText()},inputHex(e){const{r:t,g:o,b:r,a:i,h:s,s:n,v:l}=_(e);Object.assign(this,{r:t,g:o,b:r,a:i,h:s,s:n,v:l}),this.modelHex=e,this.modelRgba=this.rgbaStringShort,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},inputRgba(e){const{r:t,g:o,b:r,a:i,h:s,s:n,v:l}=_(e);Object.assign(this,{r:t,g:o,b:r,a:i,h:s,s:n,v:l}),this.modelHex=this.hexString,this.modelRgba=e,this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},setText(){this.modelHex=this.hexString,this.modelRgba=this.rgbaStringShort},openSucker(e){this.$emit("openSucker",e)},selectSucker(e){const{r:t,g:o,b:r,a:i,h:s,s:n,v:l}=_(e);Object.assign(this,{r:t,g:o,b:r,a:i,h:s,s:n,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})},selectColor(e){const{r:t,g:o,b:r,a:i,h:s,s:n,v:l}=_(e);Object.assign(this,{r:t,g:o,b:r,a:i,h:s,s:n,v:l}),this.setText(),this.$nextTick(()=>{this.$refs.saturation.renderColor(),this.$refs.saturation.renderSlide(),this.$refs.hue.renderSlide()})}}});const ot={class:"color-set"};function st(e,t,o,r,i,s){const n=T("Saturation"),l=T("Hue"),a=T("Alpha"),c=T("Preview"),h=T("Sucker"),p=T("Box"),v=T("Colors");return d(),f("div",{class:["hu-color-picker",{light:e.isLightTheme}],style:{width:e.totalWidth+"px"}},[u("div",ot,[u(n,{ref:"saturation",color:e.rgbString,hsv:e.hsv,size:e.hueHeight,onSelectSaturation:e.selectSaturation},null,8,["color","hsv","size","onSelectSaturation"]),u(l,{ref:"hue",hsv:e.hsv,width:e.hueWidth,height:e.hueHeight,onSelectHue:e.selectHue},null,8,["hsv","width","height","onSelectHue"]),u(a,{ref:"alpha",color:e.rgbString,rgba:e.rgba,width:e.hueWidth,height:e.hueHeight,onSelectAlpha:e.selectAlpha},null,8,["color","rgba","width","height","onSelectAlpha"])]),u("div",{style:{height:e.previewHeight+"px"},class:"color-show"},[u(c,{color:e.rgbaString,width:e.previewWidth,height:e.previewHeight},null,8,["color","width","height"]),e.suckerHide?L("v-if",!0):(d(),f(h,{key:0,"sucker-canvas":e.suckerCanvas,"sucker-area":e.suckerArea,onOpenSucker:e.openSucker,onSelectSucker:e.selectSucker},null,8,["sucker-canvas","sucker-area","onOpenSucker","onSelectSucker"]))],4),u(p,{name:"HEX",color:e.modelHex,onInputColor:e.inputHex,onInputFocus:e.handleFocus,onInputBlur:e.handleBlur},null,8,["color","onInputColor","onInputFocus","onInputBlur"]),u(p,{name:"RGBA",color:e.modelRgba,onInputColor:e.inputRgba,onInputFocus:e.handleFocus,onInputBlur:e.handleBlur},null,8,["color","onInputColor","onInputFocus","onInputBlur"]),u(v,{color:e.rgbaString,"colors-default":e.colorsDefault,"colors-history-key":e.colorsHistoryKey,onSelectColor:e.selectColor},null,8,["color","colors-default","colors-history-key","onSelectColor"]),L(" custom options "),ae(e.$slots,"default")],6)}R.render=st;R.__file="src/color/ColorPicker.vue";R.install=e=>{e.component(R.name,R)};const rt=["selected"],nt=["selected"],it={key:0,class:"red"},lt=["onClick"],at=["onUpdate:modelValue"],ut=F({__name:"SettingsTheme",setup(e){const o=ve().theme,r=w(!1),i=w();de();function s(g,C){const $=Object.keys(ne);for(const A of $)C[A]=g[A]}function n(g){const $=g.target.value;o.preset=$,$=="custom"?s(o.custom,o.current):s(ye[o.preset],o.current)}const l=w(!1);function a(){r.value=!1,o.custom=o.current}j(o.current,()=>{l.value=!0});const c=w(!1);let h,p=w("rgba(0,0,0,1)");function v(g){if(!h)return;const C=g.rgba;o.current[h]=`rgba(${C.r},${C.g},${C.b},${C.a})`}function b(g){c.value=!1,p.value=o.current[g],h=g,ke(()=>{c.value=!0})}function k(){s(o.current,o.custom),o.preset="custom",l.value=!1}function m(){const g=i.value;g&&(g.value=JSON.stringify(o.custom),$e(g.value))}function O(){const g=i.value;if(g)try{const C=JSON.parse(g.value);o.custom=C}catch{we().add("Failed to load Theme Data: invalid JSON")}}return(g,C)=>(d(),B(P,null,[u(z,{text:"Preset",tooltip:"warning this will erase all your changes not set to custom"},{default:N(()=>[H("select",{onChange:n,selected:E(o).preset,autocomplete:"off"},[(d(!0),B(P,null,W(E(Ce),$=>(d(),B("option",{key:$,selected:E(o).preset==$},X($),9,nt))),128))],40,rt),r.value?(d(),B("button",{key:0,onClick:a},"Save current as custom")):L("",!0)]),_:1}),u(z,{text:"Save all changes to preset Custom?",tooltip:"If you change preset you keep your changes this way"},{default:N(()=>[H("button",{onClick:k}," Save To custom "),l.value?(d(),B("span",it,"*")):L("",!0)]),_:1}),(d(!0),B(P,null,W(E(ne),($,A)=>(d(),f(z,{key:A,text:$.name,tooltip:$.tooltip},{default:N(()=>[H("div",{class:"color-field",style:Se(`background-color: ${E(o).current[A]};`)},null,4),H("button",{class:"sidemargin",onClick:D=>b(A)}," Edit ",8,lt),ue(H("input",{class:"sidemargin",type:"text","onUpdate:modelValue":D=>E(o).current[A]=D},null,8,at),[[ce,E(o).current[A]]])]),_:2},1032,["text","tooltip"]))),128)),u(z,{text:"Custom: Import/Export"},{default:N(()=>[H("textarea",{autocomplete:"off",ref_key:"textAreadExportImport",ref:i},`
        `,512),H("button",{class:"sidemargin",onClick:O}," Import "),H("button",{class:"sidemargin",onClick:m}," Export ")]),_:1}),c.value?(d(),f(xe,{key:0,onMouseCursor:!0},{default:N(()=>[u(Ie,{onClosed:C[0]||(C[0]=$=>c.value=!1),text:"grab-me"}),u(E(R),{color:E(p),onChangeColor:v},null,8,["color"])]),_:1})):L("",!0)],64))}}),pt=K(ut,[["__scopeId","data-v-49cdd8aa"]]);export{pt as default};
