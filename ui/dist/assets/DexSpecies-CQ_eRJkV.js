import{d as K,I as ee,j as N,k as C,T as j,U as X,o as r,c as l,a as n,t as f,F as k,r as x,V,u as c,W as u,N as I,X as Y,Y as Z,_ as U,m as T,Z as D,$ as se,E as te,l as ne,b as q,w as ie,n as oe,a0 as re,a1 as le,a2 as ae,a3 as ue,f as z,a4 as R,p as A,a5 as ce}from"./index-h4hE2hpV.js";import{f as H,u as pe,S as de,R as me}from"./ReorderBar-CyMSU68Y.js";import{g as J,f as Q,e as W}from"./images-C2_gLXBV.js";import"./mouse-dKSBP7Cv.js";const ve={class:"row"},fe=["src","width"],ye={style:{width:"9em",overflow:"hidden",display:"flex"}},ge={style:{display:"flex","flex-direction":"column",width:"6em"}},he={style:{display:"flex",width:"20em"}},we={style:{display:"flex",width:"20em"}},Se={style:{display:"flex"}},_e={style:{height:"50%","text-align":"center"}},be={key:0,style:{height:"50%","text-align":"center"}},ke={key:1,style:{height:"50%","text-align":"center"}},xe=K({__name:"RowSpecie",props:{specie:{},minHeight:{}},emits:["open-view"],setup(s,{emit:t}){ee(m=>({"021b01b9":m.minHeight+"px"}));const e=s,g=t,i=N(0),d=C(()=>J(e.specie.NAME,i.value)),S=C(()=>[...new Set(e.specie.abilities)].map(m=>{var w;return(w=u.value.abilities[m])==null?void 0:w.name})),_=C(()=>[...new Set(e.specie.innates)].map(m=>{var w;return(w=u.value.abilities[m])==null?void 0:w.name}));function L(){g("open-view")}const M=e.specie.b_species_stats.map(m=>j(m)),F=M.map(({red:m,green:w,blue:v})=>X(Z(m,w,v))),P=M.map(({red:m,green:w,blue:v},b)=>`background-color: rgb(${m},${w},${v});color: ${F[b]}`);return(m,w)=>(r(),l("div",ve,[n("img",{src:d.value,onClick:w[0]||(w[0]=v=>i.value++),width:e.minHeight,class:"pixelated"},null,8,fe),n("div",ye,[n("span",null,f(m.specie.name),1)]),n("div",ge,[(r(!0),l(k,null,x(m.specie.types.map(v=>c(u).types[v]),(v,b)=>(r(),l("div",{style:{"text-align":"center","flex-grow":"1",display:"flex"},key:b,class:V(v.toLowerCase())},[n("span",null,f(v),1)],2))),128))]),n("div",he,[(r(!0),l(k,null,x(S.value,(v,b)=>(r(),l("div",{style:{"text-align":"center",margin:"auto"},key:b},f(v),1))),128))]),n("div",we,[(r(!0),l(k,null,x(_.value,(v,b)=>(r(),l("div",{style:{"text-align":"center",margin:"auto"},key:b},f(v),1))),128))]),n("div",Se,[(r(!0),l(k,null,x(c(Y),(v,b)=>(r(),l("div",{style:I(c(P)[b]),class:V(`${v.toLowerCase()} stat-col`),key:v},[n("div",_e,f(v),1),v!=="BST"?(r(),l("div",be,f(m.specie.baseStats[b]),1)):(r(),l("div",ke,f(m.specie.baseStats.reduce((E,p)=>E+p)),1))],6))),128))]),n("div",{style:{height:"100%",display:"flex",width:"3em"}},[n("button",{onClick:L,style:{width:"100%","text-align":"center"}}," view ")])]))}}),Ce=U(xe,[["__scopeId","data-v-d4852df6"]]),$e=["name","type","ability","move"],Fe={name:function(s,t,e){const g=H(s.map(i=>i.name.toLowerCase()),t,e);return{indexes:g,suggestions:g.map(i=>s[i].name)}},ability:function(s,t){const e=H(u.value.abilities.map(i=>i.name.toLowerCase()),t,"==");return{indexes:s.map((i,d)=>~(i.abilities.concat(i.innates).find(S=>~e.indexOf(S))||-1)?d:-1).filter(i=>~i),suggestions:e.map(i=>u.value.abilities[i].name)}},move:function(s,t){const e=H(u.value.moves.map(i=>i.name.toLowerCase()),t,"==");return{indexes:s.reduce((i,d,S)=>((d.mTMHM.find(_=>~e.indexOf(_))||d.mTutors.find(_=>~e.indexOf(_))||Q(u.value.species,d.mEggMoves).find(_=>~e.indexOf(_))||d.mLevel.map(_=>_.id).find(_=>~e.indexOf(_)))&&i.push(S),i),[]),suggestions:e.map(i=>u.value.moves[i].name)}},type:function(s,t){const e=H(u.value.types.map(i=>i.toLowerCase()),t,"==");return{indexes:s.map((i,d)=>~(i.types.find(S=>~e.indexOf(S))||-1)?d:-1).filter(i=>~i),suggestions:e.map(i=>u.value.types[i].toLowerCase())}}},Te=["name","type","HP","ATK","DEF","SPA","SPD","SPE","BST"],G={name:function(s){return s.map((t,e)=>e).sort((t,e)=>s[t].name.localeCompare(s[e].name))},type:function(s){return s.map((t,e)=>e).sort((t,e)=>s[t].types[0]==s[e].types[0]?s[t].types[1]==s[e].types[1]?t>e?1:-1:s[t].types[1]>s[e].types[1]?1:-1:s[t].types[0]>s[e].types[0]?1:-1)},HP:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[0]-s[e].baseStats[0]})},ATK:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[1]-s[e].baseStats[1]})},DEF:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[2]-s[e].baseStats[2]})},SPA:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[3]-s[e].baseStats[3]})},SPD:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[4]-s[e].baseStats[4]})},SPE:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[5]-s[e].baseStats[5]})},BST:function(s){return s.map((t,e)=>e).sort(function(t,e){return s[t].baseStats[6]-s[e].baseStats[6]})}},Le={class:"fullview-block bg3"},Me={class:"controls-row"},Pe={class:"top-content"},Ve=["src"],Ee={class:"abilities"},Ne={class:"innates"},Oe={class:"stats-block"},Re={class:"stat-name"},He={class:"main-content"},Be={class:"move-list content-block"},Ae={key:0,class:"move-col"},Ie={class:"move-level"},Ke={key:1,class:"move-col"},Ue={key:2,class:"move-col"},De={key:3,class:"move-col"},qe={class:"content-block"},ze={key:0,class:"content-block"},We={key:1,class:"content-block"},Ge=K({__name:"FullViewSpecie",props:{specie:{},id:{}},emits:["close-view","next-specie","prev-specie"],setup(s,{emit:t}){const e=s,g=t,i=C(()=>Q(u.value.species,e.specie.mEggMoves)),d=C(()=>e.specie.prevEvo.map(p=>u.value.species[p].evos.reduce((a,o)=>{if(o.in===e.id){const h=structuredClone(o);h.in=p,a.push(h)}return a},[])).flatMap(p=>p)),S=N(0),_=C(()=>J(e.specie.NAME,S.value)),L=C(()=>[...new Set(e.specie.abilities)].map(p=>u.value.abilities[p].name)),M=C(()=>[...new Set(e.specie.innates)].map(p=>u.value.abilities[p].name)),F=C(()=>e.specie.b_species_stats.map(p=>j(p))),P=C(()=>F.value.map(({red:p,green:a,blue:o})=>X(Z(p,a,o)))),m=C(()=>F.value.map(({red:p,green:a,blue:o})=>`rgb(${p}, ${a}, ${o})`)),w=C(()=>e.specie.baseStats.map((p,a)=>a==D?e.specie.b_species_stats[D].toFixed(1):(p/255*100).toFixed(1)));function v(){g("close-view")}function b(){g("next-specie")}function E(){g("prev-specie")}return(p,a)=>(r(),l("div",Le,[a[12]||(a[12]=n("div",{class:"return-list"},null,-1)),n("div",Me,[n("button",{class:"control",onClick:a[0]||(a[0]=o=>E())}," ↑ prev specie "),n("button",{class:"control",onClick:a[1]||(a[1]=o=>b())}," ↓ next specie "),n("button",{class:"control",onClick:a[2]||(a[2]=o=>v())}," ← Return to list ")]),n("div",Pe,[n("img",{src:_.value,class:"pixelated",style:{width:"10em",height:"10em"},onClick:a[3]||(a[3]=o=>S.value++)},null,8,Ve),n("div",Ee,[a[4]||(a[4]=n("span",null," Abilities ",-1)),(r(!0),l(k,null,x(L.value,o=>(r(),l("div",{class:"abi",key:o},[n("span",null,f(o),1)]))),128))]),n("div",Ne,[a[5]||(a[5]=n("span",null," Innates ",-1)),(r(!0),l(k,null,x(M.value,o=>(r(),l("div",{class:"inn",key:o},[n("span",null,f(o),1)]))),128))]),n("div",Oe,[(r(!0),l(k,null,x(p.specie.baseStats,(o,h)=>(r(),l("div",{class:"stat-row",key:h},[n("span",Re,f(c(Y)[h]),1),n("span",{class:"stat-num",style:I(`background-color: ${m.value[h]}; color: ${P.value[h]}`)},f(o),5),n("div",{class:"stat-bar",style:I(`background: linear-gradient(to right, ${m.value[h]} ${w.value[h]}%, rgba(0, 0, 0, 0) 0%);`)},null,4)]))),128))])]),n("div",He,[n("div",Be,[p.specie.mLevel.length?(r(),l("div",Ae,[a[6]||(a[6]=n("div",{class:"move-col-title"},[n("span",null,"Learnset")],-1)),(r(!0),l(k,null,x(p.specie.mLevel,({id:o,lvl:h})=>(r(),l("div",{class:V(c(u).types[c(u).moves[o].type].toLowerCase()+" move-row"),key:o},[n("span",null,f(c(u).moves[o].name),1),n("span",Ie,f(h),1)],2))),128))])):T("",!0),p.specie.mTMHM.length?(r(),l("div",Ke,[a[7]||(a[7]=n("div",{class:"move-col-title"},[n("span",null,"TMHM")],-1)),(r(!0),l(k,null,x(p.specie.mTMHM,o=>(r(),l("div",{class:V(c(u).types[c(u).moves[o].type].toLowerCase()+" move-row"),key:o},[n("span",null,f(c(u).moves[o].name),1)],2))),128))])):T("",!0),p.specie.mTutors.length?(r(),l("div",Ue,[a[8]||(a[8]=n("div",{class:"move-col-title"},[n("span",null,"Tutor")],-1)),(r(!0),l(k,null,x(p.specie.mTutors,o=>(r(),l("div",{class:V(c(u).types[c(u).moves[o].type].toLowerCase()+" move-row"),key:o},[n("span",null,f(c(u).moves[o].name),1)],2))),128))])):T("",!0),i.value.length?(r(),l("div",De,[a[9]||(a[9]=n("div",{class:"move-col-title"},[n("span",null,"Eggmoves")],-1)),(r(!0),l(k,null,x(i.value,o=>(r(),l("div",{class:V(c(u).types[c(u).moves[o].type].toLowerCase()+" move-row"),key:o},[n("span",null,f(c(u).moves[o].name),1)],2))),128))])):T("",!0)]),n("div",qe,f(p.specie.desc),1),d.value.length?(r(),l("div",ze,[a[10]||(a[10]=n("div",null," Pre-Evos",-1)),(r(!0),l(k,null,x(d.value,(o,h)=>(r(),l("div",{key:h}," From "+f(c(u).species[o.in].name)+" "+f(c(W)(c(u).evoKindsT[o.kind],o.val)),1))),128))])):T("",!0),p.specie.evos.length?(r(),l("div",We,[a[11]||(a[11]=n("div",null," Evos",-1)),(r(!0),l(k,null,x(p.specie.evos,(o,h)=>(r(),l("div",{key:h}," Into "+f(c(u).species[o.in].name)+" "+f(c(W)(c(u).evoKindsT[o.kind],o.val)),1))),128))])):T("",!0)])]))}}),je=U(Ge,[["__scopeId","data-v-f701b7b1"]]),Xe={class:"g-virtual-list-container-parent"},B=96,Ye=K({__name:"DexSpecies",setup(s){const t=ce(),e=N(se(u.value.species)),g=u.value.species,i=N(!1),d=N(0),S=C(()=>u.value.species[d.value]),{list:_,containerProps:L,wrapperProps:M}=pe(e,{itemHeight:B});let F=[...Array(g.length).keys()],P=[...Array(g.length).keys()];function m(){e.value=F.reduce(function(y,$){return~P.indexOf($)&&y.push($),y},[]).map(y=>u.value.species[y])}function w(y){F=y,m()}function v(y){P=y,m()}function b(){if(!t.params.id){i.value=!1;return}const y=L.ref.value;if(typeof t.params.id=="string"){const $=+t.params.id;if(isNaN($))return;y.scrollTo({top:$*B}),i.value=!0,d.value=$}}te(()=>{b()}),ne(()=>t.params.id,()=>{b()});function E(y){d.value=y;const $=A();R.push({name:t.name,params:{id:y},query:{v:$.chosenVersionName}}),i.value=!0}function p(){R.push({name:t.name}),i.value=!1}function a(){d.value=Math.max(d.value-1,0);const y=A();R.push({name:t.name,params:{id:d.value},query:{v:y.chosenVersionName}})}function o(){d.value=Math.min(d.value+1,g.length-1);const y=A();R.push({name:t.name,params:{id:d.value},query:{v:y.chosenVersionName}})}const h=[{field:"",width:";flex-grow: 1"},{field:"sprite",width:`${B}px`},{field:"name",width:"9em"},{field:"type",width:"6em"},{field:"abilities",width:"20em"},{field:"innates",width:"20em"},{field:"HP",str:"H.P",width:"3em"},{field:"ATK",width:"3em"},{field:"DEF",width:"3em"},{field:"SPA",width:"3em"},{field:"SPD",width:"3em"},{field:"SPE",width:"3em"},{field:"BST",width:"3em"},{field:"",width:"3em"},{field:"",width:";flex-grow: 1"}];return(y,$)=>(r(),l("div",Xe,[q(de,{filterFields:c($e),data:c(g),onUpdate:v,"filter-map":c(Fe),"reorder-map":c(G)},{default:ie(()=>[q(me,{data:c(g),"reorder-fields":c(Te),"reorder-map":c(G),onUpdate:w,"full-fields":h},null,8,["data","reorder-fields","reorder-map"])]),_:1},8,["filterFields","data","filter-map","reorder-map"]),oe(n("div",ue(c(L),{class:"scroll-container"}),[n("div",le(ae(c(M))),[(r(!0),l(k,null,x(c(_),O=>(r(),z(Ce,{key:O.index,specie:O.data,onOpenView:Ze=>E(O.index),"min-height":B},null,8,["specie","onOpenView"]))),128))],16)],16),[[re,!i.value]]),i.value?(r(),z(je,{key:0,specie:S.value,id:d.value,onCloseView:$[0]||($[0]=O=>p()),onNextSpecie:o,onPrevSpecie:a},null,8,["specie","id"])):T("",!0)]))}}),ts=U(Ye,[["__scopeId","data-v-d8329bc9"]]);export{ts as default};
